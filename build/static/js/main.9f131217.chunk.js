(this["webpackJsonpbart.sk2"]=this["webpackJsonpbart.sk2"]||[]).push([[0],[,,,,,,function(e,t,a){e.exports={addPhoto:"AddNewPhoto_addPhoto__2oLPL",addPhotoContainer:"AddNewPhoto_addPhotoContainer__20oZe",addPhotoLowerContainer:"AddNewPhoto_addPhotoLowerContainer__20U2U",addCloseIcon:"AddNewPhoto_addCloseIcon__3YctO",addPhotoText:"AddNewPhoto_addPhotoText__aW0Jc",addPhotoSmallContainer:"AddNewPhoto_addPhotoSmallContainer__cmn7S",addPhotoCamera:"AddNewPhoto_addPhotoCamera__3jRKL",addPhotoHere:"AddNewPhoto_addPhotoHere__29Def",addPhotoOr:"AddNewPhoto_addPhotoOr__1PXA8",addPhotoChoose:"AddNewPhoto_addPhotoChoose__AVdrp",addPhotoButton:"AddNewPhoto_addPhotoButton__xs_dK",container:"AddNewPhoto_container__2YKbE",buttonWrap:"AddNewPhoto_buttonWrap__29sn7",button:"AddNewPhoto_button__2xKVv"}},,,,,,function(e,t,a){e.exports={formContainer:"AddCategory_formContainer__Md-Vs",fullViewAdd:"AddCategory_fullViewAdd__3A-j8",addCategory:"AddCategory_addCategory__1ej5-",textAdd:"AddCategory_textAdd__vTfjs",inputAdd:"AddCategory_inputAdd__Qn6th",close:"AddCategory_close__3aAVn",addButton:"AddCategory_addButton__2BQ8l",addPhoto:"AddCategory_addPhoto__2rrQI"}},,function(e,t,a){e.exports={galleryOverlay:"TheGallery_galleryOverlay__2ZxZY",galleryContainer:"TheGallery_galleryContainer__1rR2W",galleryClose:"TheGallery_galleryClose__2JQVU",galleryLeft:"TheGallery_galleryLeft__1_bG8",galleryRight:"TheGallery_galleryRight__12ca6",gallery:"TheGallery_gallery__39jDG"}},,,,function(e,t,a){},,,,,,,function(e,t,a){e.exports=a.p+"static/media/zavriet.0a0cf3e8.svg"},function(e,t,a){e.exports=a.p+"static/media/pridat.e0631cff.svg"},function(e,t,a){e.exports=a.p+"static/media/add-category.070bd823.svg"},,function(e,t,a){e.exports=a.p+"static/media/addphoto.162b88ed.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAAeCAYAAADJjPsHAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AcXDCQIyMbQ8gAAA3pJREFUaN7tWktS3DAQ7aYoiq2zhg0kJ5gr+ABkYY5gFgkLVuYIniPAEfARZo7gOQGFN2E9Xk4mC14WaVGKkOTPyISpqKsoZqxWj6Sn99TqMlG0/TUA3wCcTBD3BMD3uMJhF/UGf2wTEjQBayOxb+JKh1nUa/xtQUAzwFJ2HVc8zMJuQ4LmAGsL4DSu+AcDLYK1R6BFsPYItAhWkPUvABTyeQagBJAEBy2CFQywGYC1ALVW4I1l2tYGmgeskwjBaNBqG1jcBRoRPRHRkfb4FxGdM/Oz5vNIRMcunx0GfkZEuc+HmW8t/RIiKoioZea5I+abNmnPiGim2i1jaImoIaKGmVeOvitmrrTnpWcK98zcdPi8+u7EtKmZBSBDtyWOc0DZmQmY1jaz9F1IW9FjDHdG31Kel/rm6Rh/1sPn1fewa9GY+RnAucG0I/n+MgWzNFsS0aXleSE7ec7MraU9Mz7Ptfk0AJZElMrfymBfKl8rI+ZKi5MI63IAjY2pDrPNZcnMLYBLY8yZjKEy1mOn7PHdzyyNPQuP/kNjSm3xyW0xbLE1htWOGPUAhiU95/gmjrKDvgslrDkXFpkWmlm+M62Qc+TK4ZZrDFkS0QxAaszlXmKkhmSmA3Zy+y8SkoMRfV56PpvC7kSO5szcOHxSSRjuNTnJHHL72qbJYeuSOGFLYiQi1YDxLyT7q11ZYOgL9cYjiZspJbFLCg2ZetCerQGsPQnNwoj/MCDx2TXpKIdK4mFfsBypO2mJyDERPQL4EloaRdJKkaFLj6uStEZSbJIUfAYgF9YpWawANJosph2MaaRNJRwNM18NnMonQ5rb92LWFsDpFFV+xxhqiZ37zreOlHhh6XOnUnj5/+RhYu1K/T9M0uFh1mdm/uFIRBTTQt3FSknhK50hnlS+Ehbqf7YEQ2dTPjBtVmdc3heEUHY4FqyOe1oQeRRZU7u4te04rdKRaZWDpUVSc8udbAlgJRuidwIh/SqJVxDRbc8pFQCslY7JZDBkwXiANHgrHdrd68l1BnruZIWrreMepn5zrVg2ttIxRBJ5LLMG1B5/EtFopnVJjjq4ASS+Q1zFsfn06evqZ8a0+frm4PrdrjEFq7oPqfJHm0YGx74iEEHbB7AiaO9TmrqgwFV3R8p/RERf47KHYdnNFCwwmBZfJA0M2vWEr2rHF0ij/X/2G9Bcdxlubq6jAAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a.p+"static/media/left.d15f6a5b.svg"},function(e,t,a){e.exports=a.p+"static/media/right.d43096e6.svg"},function(e,t,a){e.exports=a.p+"static/media/Xzavriet.a7788151.svg"},function(e,t,a){e.exports=a.p+"static/media/pridat-fotky-text.b7163ec3.svg"},function(e,t,a){e.exports=a.p+"static/media/camera.62bb3d67.svg"},function(e,t,a){e.exports=a.p+"static/media/pridat-button.925c28ba.svg"},,function(e,t,a){e.exports=a(49)},,,,,function(e,t,a){},,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(24),s=a.n(l),r=a(16),c=(a(43),a(17)),i=a(15),d=a(8),u=a(9),h=a(11),m=a(10),g=a(2),p=(a(18),a(12)),f=a.n(p),y=a(25),A=a.n(y),C=a(26),E=a.n(C),P=function(e){return o.a.createElement("aside",{className:f.a.formContainer,onClick:e.onCloseAddCatClick},o.a.createElement("div",{className:f.a.fullViewAdd},o.a.createElement("img",{className:f.a.close,src:A.a,alt:"close",onClick:e.onCloseAddCat}),o.a.createElement("div",{className:f.a.addCategory},o.a.createElement("p",{className:f.a.textAdd},"PRIDA\u0164 KATEG\xd3RIU"),o.a.createElement("form",{onSubmit:e.onHandleSubmit},o.a.createElement("input",{className:f.a.inputAdd,type:"text",onChange:e.onNameCat,placeholder:e.catValue})),o.a.createElement("img",{className:f.a.addButton,src:E.a,alt:"addButton",onClick:e.onAddNewCat}))))},b=a(27),v=a.n(b),N=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={isVissibleCount:!1,photosCount:""},e.handleVissibleCount=function(t){e.setState({isVissibleCount:!0,photosCount:t});var a=Array.from(document.querySelectorAll("figure")),n=document.getElementById("change-bg"),o=document.getElementById("previous-change-bg");!function(e){e.forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.firstElementChild.src;o.classList.add("scale-icon-down"),n.style.backgroundImage="url("+t+")",n.classList.remove("scale-icon-down"),n.classList.add("scale-icon-up")})),e.addEventListener("mouseout",(function(){var t=e.firstElementChild.src;n.classList.remove("scale-icon-up"),o.style.backgroundImage="url("+t+")",o.classList.remove("scale-icon-down"),o.classList.add("scale-icon-up")}))}))}(a)},e.handleNotVissibleCount=function(t){e.setState({isVissibleCount:!1,photosCount:t})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.icons,n=t.showCategory,l=t.handleClickAdd,s=t.api,c=a.length&&a.map((function(t){return o.a.createElement(g.c,{key:t.name},o.a.createElement(g.a,{path:"/",exact:!0,key:t.name,render:function(){return o.a.createElement(r.b,{to:"/category",key:t.name},o.a.createElement("figure",{onClick:function(){return n(t.countPhotos,t.name)},onMouseEnter:function(){return e.handleVissibleCount(t.countPhotos)},onMouseLeave:function(){return e.handleNotVissibleCount(t.countPhotos)},key:t.name,className:"icon-item"},o.a.createElement("img",{src:t.image&&"".concat(s,"images/200x0/")+t.image.fullpath,alt:t.name,width:"302",className:"img-size"}),o.a.createElement("figcaption",null,t.name,o.a.createElement("br",null),e.state.isVissibleCount&&e.state.photosCount&&e.state.photosCount===t.countPhotos&&t.countPhotos.length>4&&o.a.createElement("span",null,o.a.createElement("small",null,t.countPhotos.length.toString()," fotiek")),e.state.isVissibleCount&&e.state.photosCount&&e.state.photosCount===t.countPhotos&&t.countPhotos.length>0&&t.countPhotos.length<2&&o.a.createElement("span",null,o.a.createElement("small",null,t.countPhotos.length.toString()," fotka")),e.state.isVissibleCount&&e.state.photosCount&&e.state.photosCount===t.countPhotos&&t.countPhotos.length>1&&t.countPhotos.length<5&&o.a.createElement("span",null,o.a.createElement("small",null,t.countPhotos.length.toString()," fotky")),e.state.isVissibleCount&&e.state.photosCount&&e.state.photosCount===t.countPhotos&&!t.countPhotos.length&&o.a.createElement("span",null,o.a.createElement("small",null,"0 fotiek")))))}}))})),i=o.a.createElement(g.a,{path:"/",exact:!0,render:function(){return o.a.createElement("div",{className:"icon-item add",onClick:l},o.a.createElement("img",{src:v.a,alt:"add",width:"302"}))}});return o.a.createElement("div",null,c,i)}}]),a}(n.Component),S=a(29),w=a.n(S),_=a(14),k=a.n(_),x=a(30),O=a.n(x),V=a(31),j=a.n(V),I=a(32),G=a.n(I),R=function(e){return o.a.createElement("div",{className:k.a.galleryOverlay,onKeyDown:e.onClick},o.a.createElement("div",{className:k.a.galleryContainer},o.a.createElement("img",{onClick:e.onClick,className:k.a.galleryClose,src:O.a,alt:"close"}),o.a.createElement("img",{onClick:e.toLeft,className:k.a.galleryLeft,src:j.a,alt:"left"}),o.a.createElement("img",{onClick:e.toRight,className:k.a.galleryRight,src:G.a,alt:"right"}),o.a.createElement("img",{src:e.image,className:k.a.gallery,alt:"galleryImage"})))},T=a(37),B=a(6),K=a.n(B),L=a(33),F=a.n(L),D=a(34),Y=a.n(D),J=a(35),M=a.n(J),Z=a(36),U=a.n(Z),Q=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={isVissibleCount:!1,selectedFiles:""},e.handleGetNewPicture=function(t){var a=e.props.api;t.preventDefault();var n=new FormData;n.append("name","image");for(var o=0;o<t.target.files.length;o++)n.append(t.target.files[o].name,t.target.files[o]);var l=e.props.nameCategory;fetch("".concat(a,"gallery/")+l,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){return e.handleAddNewPicButton(t)})).catch((function(e){return console.log(e)}))},e.handleGetNewPictureDragDrop=function(t){for(var a=e.props.api,n=new FormData,o=0;o<t.length;o++)n.append(t[o].name,t[o]);var l=e.props.nameCategory;fetch("".concat(a,"gallery/")+l,{method:"POST",body:n}).then((function(e){return e.json()})).then((function(t){return e.handleAddNewPicButton(t)})).catch((function(e){return console.log(e)}))},e.handleAddNewPicButton=function(t){e.setState({selectedFiles:t}),e.props.onAddNewPicture(e.state.selectedFiles)},e.handleShowNewPic=function(){e.props.closeOverlayAdd()},e.onDrop=function(){console.log(e.state)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:K.a.addPhoto},o.a.createElement("aside",{className:K.a.addPhotoContainer},o.a.createElement("img",{className:K.a.addCloseIcon,src:F.a,alt:"closeIcon",onClick:this.props.closeOverlayAdd}),o.a.createElement("div",{className:K.a.addPhotoLowerContainer},o.a.createElement("img",{className:K.a.addPhotoText,src:Y.a,alt:"addText"}),o.a.createElement(T.a,{onDrop:function(t){return e.handleGetNewPictureDragDrop(t)},accept:"image/*"},(function(t){var a=t.getRootProps;return o.a.createElement("div",Object.assign({},a(),{className:K.a.addPhotoSmallContainer}),o.a.createElement("img",{className:K.a.addPhotoCamera,src:M.a,alt:"cameraIcon"}),o.a.createElement("p",{className:K.a.addPhotoHere},"SEM PRESU\u0147TE FOTKY"),o.a.createElement("p",{className:K.a.addPhotoOr},"alebo"),o.a.createElement("div",{className:K.a.buttonWrap},o.a.createElement("label",{className:K.a.button,htmlFor:"upload"},"VYBERTE S\xdaBORY"),o.a.createElement("form",{encType:"multipart/form-data",onSubmit:e.props.handleSubmit},o.a.createElement("input",{id:"upload",type:"file",multiple:!0,name:"file",accept:"image/*",onChange:e.handleGetNewPicture}))))})),o.a.createElement("img",{className:K.a.addPhotoButton,src:U.a,alt:"addButton",onClick:this.handleShowNewPic}))))}}]),a}(n.Component),H=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={isVissibleAddSpecificPhoto:!1,isVissibleGallery:!1,galleryImage:"",imageIndex:"",selectedFiles:e.props.uniqueImgSrc,api:e.props.api},e.handleAddPhoto=function(){e.setState({isVissibleAddSpecificPhoto:!0})},e.closeAddOverlay=function(){e.setState({isVissibleAddSpecificPhoto:!1}),e.props.onUpdateState(e.state.selectedFiles)},e.handleUniqueSrc=function(t){var a=t.uploaded;e.setState((function(e){return{selectedFiles:[].concat(Object(c.a)(e.selectedFiles),Object(c.a)(a))}}))},e.handleShowGallery=function(t,a){e.setState({isVissibleGallery:!0,galleryImage:"".concat(e.state.api,"images/640x0/")+t.fullpath,imageIndex:a})},e.handleCloseGallery=function(){e.setState({isVissibleGallery:!1})},e.HandleKeyCloseGallery=function(t){"Escape"===t.key&&e.setState({isVissibleGallery:!1})},e.handleChangePhotoLeft=function(t){0===e.state.imageIndex?e.setState({imageIndex:t.length-1,galleryImage:t[t.length-1].props.src.replace("200x0","640x0")}):e.setState({imageIndex:e.state.imageIndex-1,galleryImage:t[e.state.imageIndex-1].props.src.replace("200x0","640x0")})},e.handleChangePhotoRight=function(t){e.state.imageIndex===t.length-1?e.setState({imageIndex:0,galleryImage:t[0].props.src.replace("200x0","640x0")}):e.setState({imageIndex:e.state.imageIndex+1,galleryImage:t[e.state.imageIndex+1].props.src.replace("200x0","640x0")})},e.handleKeyPress=function(t){"Escape"===t.key&&e.closeAddOverlay()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress,!1),document.addEventListener("keydown",this.HandleKeyCloseGallery,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress,!1),document.removeEventListener("keydown",this.HandleKeyCloseGallery,!1)}},{key:"render",value:function(){var e=this,t=this.state.selectedFiles,a=o.a.createElement("aside",{className:"specific-category",onClick:this.handleAddPhoto},o.a.createElement("img",{src:w.a,className:"add-photo",alt:"addPhoto"})),n=t.length&&t.map((function(t,a){return o.a.createElement("img",{src:"".concat(e.state.api,"images/200x0/")+t.fullpath,onClick:function(){return e.handleShowGallery(t,a)},className:"specific-category",key:a,alt:"foto",width:"302"})}));return o.a.createElement("div",null,n,a,this.state.isVissibleAddSpecificPhoto?o.a.createElement(Q,{showOverlayAdd:this.handleAddPhoto,closeOverlayAdd:this.closeAddOverlay,handleAddNewButton:this.handleAddNewButon,nameCategory:this.props.nameCategory,onAddNewPicture:this.handleUniqueSrc,api:this.state.api,onKeyPress:this.handleKeyPress}):null,this.state.isVissibleGallery?o.a.createElement(R,{image:this.state.galleryImage,onClick:this.handleCloseGallery,toLeft:function(){return e.handleChangePhotoLeft(n)},toRight:function(){return e.handleChangePhotoRight(n)},onKeyPress:this.HandleKeyCloseGallery}):null)}}]),a}(n.Component),W=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t=e.state.api;fetch("".concat(t,"gallery"),{method:"GET",headers:{"Content-Type":"application/json"},mode:"cors",cache:"default"}).then((function(e){return e.json()})).then((function(t){return e.getGalleries(t.galleries)})).catch(e.showError)},e.getGalleries=function(t){var a=e.state.api;e.setState({icons:t});var n=e.state.icons;n.length&&n.map((function(t){return t&&fetch("".concat(a,"gallery/")+t.path).then((function(e){return e.json()})).then((function(t){return e.addPhotoArrays(t)})).catch(e.showError)}))},e.addPhotoArrays=function(t){if(console.log(t),404!==t.code){var a=t.images;e.setState((function(e){return{icons:e.icons.map((function(e){return e.path===t.gallery.path?Object(i.a)(Object(i.a)({},e),{},{countPhotos:a}):e}))}}))}},e.handleClickAdd=function(){e.setState({isVissibleAdd:!0})},e.handleSubmit=function(t){var a=e.state.api;if(t.preventDefault(),e.state.name){var n={name:e.state.name},o=new Request("".concat(a,"gallery"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});fetch(o).then((function(e){return e.json()})).then((function(t){return e.setState((function(e){return{icons:[].concat(Object(c.a)(e.icons),[Object(i.a)(Object(i.a)({},t),{},{countPhotos:[]})])}}))})),e.setState((function(t){return{categoryValue:e.state.startCategoryValue,isVissibleAdd:!1,name:""}}))}},e.handleNameCat=function(t){e.setState({categoryValue:t.target.value,name:t.target.value})},e.handleCloseAddCat=function(){e.setState({categoryValue:e.state.startCategoryValue,isVissibleAdd:!1})},e.handleCloseAddCatOnClick=function(t){t.target===t.currentTarget&&e.setState({categoryValue:e.state.startCategoryValue,isVissibleAdd:!1})},e.handleShowCategory=function(t,a){e.setState({specificCategory:!1,specificKey:t,nameCategories:a});var n=document.getElementsByClassName("category-header")[0];n.innerText="\u27f5\xa0\xa0\xa0\xa0"+a,n.addEventListener("click",(function(){e.setState({specificCategory:!0}),n.innerText="KATEG\xd3RIE"}))},e.handleNewPic=function(t){e.setState({specificKey:[].concat(Object(c.a)(e.state.specificKey),[t.name])})},e.handleUpdateState=function(t){var a=t[0].fullpath.indexOf("/"),n=t[0].fullpath.substring(0,a);e.setState((function(e){return{icons:e.icons.map((function(e){return e.path===n?Object(i.a)(Object(i.a)({},e),{},{countPhotos:t,image:t[0]}):e}))}}))},e.state={icons:[],categoryValue:"ZADAJTE N\xc1ZOV KATEG\xd3RIE",startCategoryValue:"ZADAJTE N\xc1ZOV KATEG\xd3RIE",isVissibleAdd:!1,specificCategory:!0,nameCategories:"",specificKey:"",keyCategories:"",api:"http://api.programator.sk/"},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement("header",null,o.a.createElement("aside",{className:"bckgr",id:"change-bg"}),o.a.createElement("aside",{className:"bckgr",id:"previous-change-bg"}),o.a.createElement("div",{className:"headers"},o.a.createElement("h4",{className:"fotogallery"},"FOTOGAL\xc9RIA"),o.a.createElement(r.c,{to:"/",exact:!0,className:"category-header"},"KATEG\xd3RIE")),o.a.createElement("hr",{className:"line"})),a=o.a.createElement("aside",{className:"bart"},o.a.createElement("img",{src:"./img/bart-sk.png",alt:"bart.sk"}));return o.a.createElement("div",null,t,o.a.createElement("section",{className:"img-row group"},o.a.createElement(N,{icons:this.state.icons,showCategory:this.handleShowCategory,handleClickAdd:this.handleClickAdd,api:this.state.api}),o.a.createElement(g.c,null,o.a.createElement(g.a,{path:"/category",exact:!0,render:function(){return o.a.createElement(H,{uniqueImgSrc:e.state.specificKey,addNewPic:e.handleNewPic,nameCategory:e.state.nameCategories,onUpdateState:e.handleUpdateState,api:e.state.api})}})),this.state.isVissibleAdd&&o.a.createElement(P,{onNameCat:this.handleNameCat,onCloseAddCat:this.handleCloseAddCat,onHandleSubmit:this.handleSubmit,catValue:this.state.categoryValue,onAddNewCat:this.handleSubmit,onCloseAddCatClick:this.handleCloseAddCatOnClick}),a))}}]),a}(n.Component);s.a.render(o.a.createElement(r.a,null,o.a.createElement(o.a.StrictMode,null,o.a.createElement(W,null))),document.getElementById("rootReact"))}],[[38,1,2]]]);
//# sourceMappingURL=main.9f131217.chunk.js.map